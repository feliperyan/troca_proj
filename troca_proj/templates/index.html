{% extends "base.html" %}

{%block page_specific_script%}
	<script type="text/javascript" src="{{ STATIC_URL }}jquery.masonry.js"></script>
{%endblock%}

{% block content %}

<h2> Newest items </h2>

<div id="container" class="clearfix masonry">

{% for i in items  %}            
	<div class="box col2" style="margin:5px; padding:5px; background:#CCCCCC">
		
		<a href="{% url detail i.id %}"> 
			<img src="{{MEDIA_URL}}{{i.img}}" width="280" height="280"/>
		</a>
		<div style="width: 280px;">
			<p>
				<a href="{% url detail i.id %}"> {{ i.title }} </a> by 
				<a href="/accounts/{{ i.owner_username }}"> {{ i.owner_username }} </a>			
			</p>
			<p>Votes {{i.countVotes}}</p>
		</div>
	</div>
{% endfor %}

</div>

<div>
	{% if items.has_previous %}
		<a href="?page={{ items.previous_page_number }}">previous page </a>
	{% endif %}
	Page {{items.number}} of {{ items.paginator.num_pages }}
	{% if items.has_next %}
		<a href="?page={{ items.next_page_number }}"> next page</a>
	{% endif %}
</div>

<script>
	$(document).ready(function() {

		// Initialize Masonry
		$('#container').masonry({
			//columnWidth: 140,
			itemSelector: '.box',
			//isFitWidth: true,
			//isAnimated: !Modernizr.csstransitions
		}).imagesLoaded(function() {
			$(this).masonry('reload');
		});

	});
</script>


{% endblock %}

